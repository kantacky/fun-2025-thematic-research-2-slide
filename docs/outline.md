# 個人的穴場フォトスポット推薦に向けた大規模言語モデルによるフォトウォークデータの生成 / Generating Photowalk Data via Large Language Models for Personalized Hidden Gem Photo Spot Recommendations

## Recap

- フォトウォークにおける個人的穴場フォトスポット推薦の必要性
  - フォトウォークの定義
    - カメラを持って街を歩き，興味を引いたものを撮影する行為
  - 個人的穴場フォトスポットの定義
    - 誰もが訪れるスポットでも，誰も訪れないスポットでもない場所
      - 発見的: 一般的な人気が高いが，自分と同じ嗜好を持った人からの人気は低い
      - 独占的: 一般的な人気は低いが，自分と同じ嗜好を持った人からの人気は高い
  - フォトウォークにおいて個人的穴場を提案する意義
    - 自分の感性に合った被写体との出会いを促進
    - フォトウォーク本来の「発見する楽しさ」を増幅
  - 問題
    - 従来の人気スポット推薦手法では個人の嗜好が反映されない
- 目的と提案手法
  - 目的
    - 自分の感性に合ったフォトスポットとの出会いを促進する
  - 手段
    - 個人的穴場フォトスポットを推薦するシステムを構築する
  - 手法
    - 観光スポットと訪問者の同時クラスタリング手法をフォトウォークに応用
      - フォトスポットと撮影者の同時クラスタリング
      - フォトスポットのカテゴリから撮影者の嗜好を分析して個人的穴場を抽出
  - 次の課題（ここまでが課題研究Iまでに検討したこと）
    - フォトウォークデータの入手

## Background

- フォトウォークデータ生成の必要性
  - フォトウォークデータとは
    - 位置情報，被写体情報付きの撮影データ
  - 問題
    - フォトウォークデータを入手することが難しい
      - 密で大量の撮影データ
      - プライバシーの観点からデータ公開が難しい
      - 専用のプラットフォームが存在しない

## Purpose

- 目的と提案手法
  - 目的
    - 個人的穴場フォトスポットの抽出に必要なフォトウォークのデータを手に入れる
  - 手段
    - 大規模言語モデル（LLM）によるデータ生成
  - 手法
    - フォトウォークデータに求める要件を言語化
    - Gemini API の構造化出力機能を用いてフォトウォークデータ生成

## Related Works

- TODO: 関連研究
  - LLMによる合成データ生成の信頼性
    - アンケート回答や行動ログの生成において，実データに近い分布を再現できることが示されている
  - ペルソナを反映したエージェントシミュレーション
    - 特定の属性や嗜好を持つエージェントの振る舞いをLLMで再現する研究
  - 地理空間情報の生成能力
    - LLMがテキストベースで地理的な整合性をある程度保てる可能性

## Method

- Gemini API の構造化出力機能を用いたフォトウォークデータ生成
  - Google Gemini API の構造化出力機能を使用
    - コンテキスト容量
    - 構造化出力の安定性
    - スループット
- フォトウォークデータに求める要件（スキーマ設計）
  - Session（1回のフォトウォーク）とRecord（各撮影地点）から構成
    - Session: ユーザID, Recordリスト
    - Record: 時刻, 緯度・経度, 被写体カテゴリ（landscape, building, vehicle, person, animal, plant）
  - それぞれのフィールドの説明を記述
- フォトウォークデータに求める要件（プロンプト設計）
  - エージェントの役割を明確化
  - 周回性
  - 地理的整合性
  - 生成条件（エリア名，データ規模）
  ```text
  あなたは<エリア名>エリアをフォトウォークするエージェントである．
  以下の条件に従って，フォトウォークを行いなさい．
  - <画像の枚数>枚程度の画像を撮影すること．
  - 徒歩<1セッションの時間>分程度の距離を歩くこと．
  - 出発地点と到着地点が同一であること．
  - 撮影する場所が地図の道路上であること．
  ```

## Implementation

- 実装
  - Python と Google GenAI SDK を使用
  - 並行処理による高速なデータ生成
  - Gemini 3 Flash Preview を使用
    - Gemini 2.5 Flash Lite: 周回性制約を遵守できない
    - Gemini 2.5 Flash: 地理的整合性を遵守できない

## Experiment

- 生成
  - 対象エリア
    - 北海道函館市（美原・神山・富岡町・中道エリア）
  - 生成条件
    - 徒歩30分程度の散歩コース
    - 10〜30枚程度の画像撮影
  - 生成規模
    - 10人の撮影者 × 5セッション = 50セッション

## Evaluation

- TODO: 生成したデータの評価
  - スキーマ準拠性 (Schema Compliance)
    - 指定したJSONスキーマ（Session/Record構造）に従って出力されているか
  - 地理的整合性 (Geographical Validity)
    - 道路上率: 生成された座標が地図上の道路上に存在するか（Reverse Geocoding等で検証）
    - エリア内包率: 指定されたエリア（函館市美原・神山・富岡町・中道）内に収まっているか
  - 行動制約の遵守 (Behavioral Constraints)
    - 周回性: 出発地点と到着地点の距離が十分に短いか（Start-End Distance）
    - 移動距離・時間: 指示した「徒歩30分程度」に相当する移動距離になっているか
    - 撮影枚数: 指示した「10〜30枚」の範囲に収まっているか
  - 多様性 (Diversity)
    - 経路の多様性: セッションごとに異なるルートを通っているか（ヒートマップや軌跡の重複度で評価）
    - 被写体の多様性: 被写体カテゴリ（landscape, building等）の分布に偏りがないか
- TODO: 問題と解決策
  - 個人の嗜好が反映されていない

## Plan

- 展望
  - 個人の嗜好を反映したデータ生成
  - 撮影者とフォトスポットの同時クラスタリング
  - 個人的穴場フォトスポットの抽出
  - 推薦システムを構築
  - 推薦システムの生成データによる検証・被験者実験

## Conference

- 発表予定
  - 情報処理学会第88回全国大会（2026年3月）

## Summary

- まとめ
  - 背景
    - フォトウォークにおいて個人の感性に合った「個人的穴場」の推薦が必要
    - 推薦システムの構築に必要なフォトウォークデータ（位置・被写体情報）の入手が困難
  - 目的
    - 個人的穴場抽出に向けた，LLMによるフォトウォークデータの生成
  - 手法
    - Gemini APIの構造化出力を活用し，地理的整合性と行動制約を満たすデータを生成
  - 展望
    - 個人の嗜好を反映したデータ生成と，それを用いた推薦システムの構築・評価

# 関連研究

ご要望のトピックに関連する具体的な論文をリストアップしました。これらは2023年から2025年にかけての最新の研究を含んでいます。

## 1. LLMによる合成データ生成の信頼性

アンケート回答や行動ログの生成において、LLMが実データに近い分布を再現できるか、またはその信頼性をどう評価するかに関する研究です。

- On LLMs-Driven Synthetic Data Generation, Curation, and Evaluation: A Survey (2024)
  - LLMを用いた合成データ生成、キュレーション、評価に関する包括的なサーベイ論文。データの品質と信頼性を確保するためのフレームワークを提示しており、生成データの妥当性を論じる際の基礎文献として適しています。
- SimBench: The First Extensive Benchmark for Evaluating LLM-Based Simulation (2025)
  - 大規模なベンチマークを用いてLLMのシミュレーション能力を評価した研究。モデルサイズとシミュレーション精度の関係（スケーリング則）を示しており、適切なモデルを選定すれば信頼性の高いシミュレーションが可能であることを示唆する根拠として使えます。
- Uncertainty Quantification for LLM-Based Survey Simulations (2025)
  - LLMによるアンケート回答シミュレーションの不確実性を定量化する手法を提案。生成された「回答」がどの程度信頼できるかを統計的に評価するアプローチについて述べており、生成データの品質保証の文脈で引用できます。

## 2. ペルソナを反映したエージェントシミュレーション

特定の属性や嗜好を持つエージェント（撮影者）の振る舞いをLLMで再現する際の先行研究です。

- Generative Agents: Interactive Simulacra of Human Behavior (Park et al., 2023)
  - スタンフォード大学とGoogleによる著名な論文。LLMを用いたエージェントが、記憶と反省（Reflection）を通じて人間らしい社会的振る舞いや長期的な計画行動を自律的に行うことを実証しました。「個人の嗜好や記憶に基づいた行動（フォトウォーク）」を生成するアプローチの妥当性を支える最も強力な先行研究です。
- TinyTroupe: An LLM-powered Multiagent Persona Simulation Toolkit (Microsoft, 2024)
  - Microsoftが開発した、詳細なペルソナ（年齢、職業、性格、興味）を持つエージェントをシミュレーションするためのツールキット。特定の「興味」を持つ撮影者をシミュレートするという本研究の目的に非常に近いアプローチをとっています。

## 3. 地理空間情報の生成・推論能力

LLMがテキストベースで地理的な整合性を保てるか、あるいは地図情報をどう扱うかに関する研究です。

- MapAgent: A Hierarchical Agent for Geospatial Reasoning with Dynamic Map Tool Integration (2024/2025)
  - LLMが地理空間的な推論を行い、地図ツールと連携してタスクをこなすエージェントの枠組み。LLM単体では難しい正確な空間把握を、ツール利用や階層的な推論で補うことで高い精度を出せることを示しており、提案手法（Geminiの構造化出力等）の有効性を補強できます。
- Spatial-RAG: Spatial Retrieval Augmented Generation for Real-World Spatial Reasoning Questions (2025)
  - 観光データセットを用いた実験で、空間的な検索とLLMの生成を組み合わせることで、現実世界の空間に関する質問応答の精度を向上させた研究。フォトスポットの推薦や経路生成において、地理的な文脈を考慮することの重要性と実現可能性を示しています。
